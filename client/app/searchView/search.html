<div layout="column" flex="100">
	<!-- search bar -->
	<div layout="row" class="search-searchbar">
		<div flex="50" layout="row">
			<form ng-submit="callingsearch()">
				<md-input-container md-no-float class="md-icon-float">
					<md-icon md-svg-src="{{vm.icons.search}}"></md-icon>
					<input type="text" placeholder="Keyword" ng-model="vm.searchTerm" ng-value="vm.searchTerm" flex="60" autofocus>
					<div layout-gt-xs="row">
						<div flex-gt-xs>
							<md-button type="submit" ng-click="vm.callingsearch()" class="search-button md-primary md-raised white-font">Search Articles</md-button>
						</div>
					</div>
				</md-input-container>
			</form>
			<span flex></span>
			<md-input-container md-no-float class="md-icon-float">
				<md-button type="button" ng-click="vm.clearSearch()" class="search-button md-raised">Clear Search</md-button>
			</md-input-container>
		</div>
		<div flex="50"></div>
	</div>
	<!-- End search bar  -->
	<div layout="row">
		<!--left side -->
		<div flex-xs="" flex-gt-xs="50">
			<!-- Start spatial and temporal search -->
			<md-card>
				<md-card-content>
					<div layout="column">
						<h4>Spatial Search</h4>
						<leaflet lf-center="vm.center" controls="vm.controls" layers="vm.layers" geojson="vm.geojson" width="100%" height="400px"></leaflet>
						<h4>Temporal Search</h4>
						<div>
							<rzslider rz-slider-model="vm.slider.minValue" rz-slider-high="vm.slider.maxValue" rz-slider-options="vm.slider.options"></rzslider>
						</div>
					</div>
				</md-card-content>
			</md-card>
			<!-- End spatial and temporal search -->
		</div>

		<!-- right side -->
		<div layout="column" flex="50">
			<md-card ng-if="vm.showResults">
				<md-card-content ng-if="vm.hits != 0">
					<div class="search-results" dir-paginate="text in vm.allPubs | itemsPerPage:5" layout="column">
						<a ui-sref="erc({ercid: text._source.compendium_id})">{{text._source.metadata.o2r.title}}</a>
						<div layout="row">
							<span class="md-body-2" ng-repeat="author in text._source.metadata.o2r.author">{{author.name}},&nbsp;</span>
							<span class="md-body-2">{{text._source.metadata.o2r.publicationDate | date : 'yyyy'}}</span>
						</div>
						<div class="search-results-abstract">
							<span class="md-body-2">Abstract:</span> 
							{{text._source.metadata.o2r.description | cutLongName : vm.cutAbstract[$index]}}
							<md-icon ng-show="vm.cutAbstract[$index] == 200" class="o2r-icon o2r-pointer" aria-label="expand" md-svg-src="{{vm.icons.downArrow}}" ng-click="vm.toggleAbstract($index)"></md-icon>
							<md-icon ng-hide="vm.cutAbstract[$index] == 200" class="o2r-icon o2r-pointer" aria-label="expand" md-svg-src="{{vm.icons.upArrow}}" ng-click="vm.toggleAbstract($index)"></md-icon>
						</div>
						<md-divider class="search-results-divider" ng-if="!$last"></md-divider>
					</div>
					<dir-pagination-controls template-url="/app/searchView/dirPagination.tpl.html"></dir-pagination-controls>
				</md-card-content>
				<md-card-content ng-if="vm.hits == 0">
					Sorry, no matching results were found.
				</md-card-content>
			</md-card>
		</div>
	</div>
</div>