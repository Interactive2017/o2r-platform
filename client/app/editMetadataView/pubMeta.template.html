<form>
    <div layout="row" ng-if="editMode">
        <md-button ng-disabled="!checkChanges()" ng-click="saveChanges(original.ercIdentifier, meta, original)" class="md-primary md-raised white-font" aria-label="Save Changes">Save Changes</md-button>
        <md-button ng-click="cancelEditing()" aria-label="Cancel">Cancel</md-button>
    </div>
    <!-- Author Information -->
    <!-- show info -->
    <!-- use this, when author metadata will be an array of objects
    <h3>Author
        <md-icon class="edit-button" ng-click="edit('author')" flex-offset="5" md-svg-src="{{icons.edit}}"></md-icon>
        <md-icon ng-if="showInput('author')" class="edit-button" ng-click="addItem(meta.author, 'author')" flex-offset="5" md-svg-src="{{icons.add}}"></md-icon>
    </h3>
    <div ng-hide="showInput('author')" layout="column" ng-repeat="author in original.author">
        <span>{{author.authorName}}</span>
        <span ng-repeat="affiliation in author.authorAffiliation">{{affiliation.name}}</span>
        <span ng-repeat="id in author.authorId"><span ng-if="id.hasOwnProperty('name')">Id: {{id.name}}</span></span>
    </div>
    -->


    <!-- end show info -->
    <!-- edit info -->
    <!-- use this, when author metadata will be an array of objects
    <div ng-show="showInput('author')">
        <div ng-repeat="author in meta.author">
            <md-input-container>
                <label>Name</label>
                <input ng-model="meta.author[$index].authorName" ng-value="'{{author.authorName}}'">
            </md-input-container>
            <md-input-container ng-repeat="affiliation in author.authorAffiliation">
                <label>Affiliation</label>
                <input ng-model="meta.author[$parent.$index].authorAffiliation[$index].name" ng-value="'{{affiliation.name}}'">
            </md-input-container>
            <md-input-container ng-repeat="id in author.authorId">
                <label>Id</label>
                <input ng-model="meta.author[$parent.$index].authorId[$index].name" ng-value="'{{id.name}}'">
            </md-input-container>
            <md-divider ng-if="!$last"></md-divider>
        </div>
    </div>
    until here   -->
    <!-- end edit info -->

    <!-- use this, as long as author metadata is not an array of objects -->
    <h3>Author
        <md-icon class="edit-button" ng-click="edit('author')" flex-offset="5" md-svg-src="{{icons.edit}}"></md-icon>
    </h3>
    <div ng-hide="showInput('author')" layout="column">
        <span>{{original.author}}</span>
        <span>{{original.affiliation}}</span>
        <span><span ng-if="original.hasOwnProperty('orcid')">Id: {{original.orcid}}</span></span>
    </div>

    <div ng-show="showInput('author')">
        <div>
            <md-input-container>
                <label>Name</label>
                <input ng-model="meta.author" ng-value="original.authorName">
            </md-input-container>
            <md-input-container>
                <label>Affiliation</label>
                <input ng-model="meta.affiliation" ng-value="original.affiliation">
            </md-input-container>
            <md-input-container>
                <label>Id</label>
                <input ng-model="meta.orcid" ng-value="original.orcid">
            </md-input-container>
        </div>
    </div>

    <!-- End Author Information -->









    <!-- Publication Information -->
    <!-- show info -->
    <h3>Publication<md-icon class="edit-button" ng-click="edit('publication')" flex-offset="5" md-svg-src="{{icons.edit}}"></md-icon></h3>
    <div ng-hide="showInput('publication')" layout="column">
        <span><h4 ng-if="original.hasOwnProperty('title')">Title</h4> {{original.title}}</span>
        <span><h4 ng-if="original.hasOwnProperty('description')">Abstract</h4> {{original.description}}</span>
        <span><h4 ng-if="original.hasOwnProperty('dateCreated')">Date</h4> {{original.dateCreated}}</span>
        <span><h4 ng-if="original.hasOwnProperty('paperLanguage')">Language</h4> {{original.paperLanguage}}</span>
        <span><h4 ng-if="original.hasOwnProperty('keywords') && original.keywords[0].hasOwnProperty('name')">Keywords</h4><span ng-repeat="keyword in original.keywords"> {{keyword.name}}<span ng-hide="$last">, </span></span></span>
        <span><h4 ng-if="original.hasOwnProperty('softwarePaperCitation')">Citation</h4> {{original.softwarePaperCitation}}</span>
    </div>
    <!-- end show info -->

    <!-- begin edit info-->
    <div ng-show="showInput('publication')" layout="column">
        <md-input-container class="md-block">
            <label>Title</label>
            <input ng-model="meta.title" ng-value="original.title">
        </md-input-container>
        <md-input-container class="md-block">
            <label>Abstract</label>
            <textarea rows="5" ng-model="meta.description" ng-value="original.description"></textarea>
        </md-input-container>
        <div>
            <span class="edit-metadata-label-color">Publication Date</span><md-datepicker ng-model="date" md-placeholder="Publication date" ng-change="changedDate(date)"></md-datepicker>
        </div>
        <md-input-container>
            <label>Paper Language</label>
            <input ng-model="meta.paperLanguage" ng-value="original.paperLanguage">
        </md-input-container>
        <!-- Keywords -->
        <md-input-container ng-repeat="keyword in meta.keywords">
            <label>Keywords</label>
            <input ng-model="meta.keywords[$index].name" ng-value="keyword.name">
            <md-icon ng-if="$last" class="edit-button" md-svg-src="{{icons.add}}" ng-click="addItem(meta.keywords, null)"></md-icon>
        </md-input-container>
        <!-- End Keywords -->
        <md-input-container class="md-block">
            <label>Citation</label>
            <input ng-model="meta.sofwarePaperCitation" ng-value="original.softwarePaperCitation">
        </md-input-container>
    </div>
    <!-- end edit info-->
    <!-- end publication information -->
</form>