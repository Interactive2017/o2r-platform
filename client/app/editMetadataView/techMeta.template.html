<form>
    <div layout="row" ng-if="editMode">
        <md-button ng-disabled="!checkChanges()" ng-click="saveChanges(original.ercIdentifier, meta, original)" class="md-primary md-raised white-font" aria-label="Save Changes">Save Changes</md-button>
        <md-button ng-click="cancelEditing()" aria-label="Cancel">Cancel</md-button>
    </div>

    <!-- Show Info -->
    <h3>Technical Metadata<md-icon class="edit-button" ng-click="edit('tech')" flex-offset="5" md-svg-src="{{icons.edit}}"></md-icon></h3>
    <div ng-hide="showInput('tech')" layout="column">
        <span><h4 ng-if="original.hasOwnProperty('ercIdentifier')">Erc Id</h4> {{original.ercIdentifier}}</span>
        <span><h4 ng-if="original.hasOwnProperty('generatedBy')">Generated by</h4> {{original.generatedBy}}</span>
        <span><h4 ng-if="original.hasOwnProperty('version')">Version</h4> {{original.version}}</span>
        <span><h4 ng-if="original.hasOwnProperty('interactionMethod')">Interaction Method</h4> {{original.interactionMethod}}</span>
        <span><h4 ng-if="original.hasOwnProperty('objectType')">Object type</h4> {{original.objectType}}</span>
    </div>
    <!-- End Show Info -->

    <!-- Edit -->
    <div ng-show="showInput('tech')" layout="column">
        <span><h4 ng-if="original.hasOwnProperty('ercIdentifier')">Erc Id</h4> {{original.ercIdentifier}}</span>
        <md-input-container class="md-block">
            <label>Generated by</label>
            <input ng-model="meta.generatedBy" ng-value="original.generatedBy">
        </md-input-container>
        <md-input-container class="md-block">
            <label>Version</label>
            <input ng-model="meta.version" ng-value="original.version">
        </md-input-container>
        <md-input-container class="md-block">
            <label>Interaction Method</label>
            <input ng-model="meta.interactionMethod" ng-value="original.interactionMethod">
        </md-input-container>
    </div>
    <!-- End Edit -->


    <!-- Show Info -->
    <h3>Dependencies
        <md-icon class="edit-button" ng-click="edit('depends')" flex-offset="5" md-svg-src="{{icons.edit}}"></md-icon>
        <md-icon ng-show="showInput('depends')" class="edit-button" ng-click="addItem(meta.depends, 'depends')" flex-offset="5" md-svg-src="{{icons.add}}"></md-icon>
    </h3>
    <div ng-hide="showInput('depends')" layout="column">
        <span ng-repeat="dependency in original.depends"><h4 ng-hide="isEmpty(original.depends[$index], 'depends')">Dependency</h4>
        {{dependency.version}}<br ng-if="dependency.hasOwnProperty('version')"/>
        {{dependency.packageId}}<br ng-if="dependency.hasOwnProperty('packageId')"/>
        {{dependency.packageSystem}}<br ng-if="dependency.hasOwnProperty('packageSystem')"/>
        <span ng-repeat="opSys in dependency.operatingSystem">{{opSys.name}}<br/></span>
        </span>
    </div>
    <!-- End Show Info -->

    <!-- Edit -->
    <div ng-show="showInput('depends')" layout="column">
        <div ng-repeat="dependency in meta.depends">
            <md-input-container ng-repeat="system in dependency.operatingSystem">
                <label>Operating System</label>
                <input ng-model="meta.depends[$parent.$index].operatingSystem[$index].name" ng-value="system.name">
            </md-input-container>
            <md-input-container>
                <label>Package ID</label>
                <input ng-model="meta.depends[$index].packageId" ng-value="dependency.packageId">
            </md-input-container>
            <md-input-container>
                <label>Package System</label>
                <input ng-model="meta.depends[$index].packageSystem" ng-value="dependency.packageSystem">
            </md-input-container>
            <md-input-container>
                <label>Version</label>
                <input ng-model="meta.depends[$index].version" ng-value="dependency.version">
            </md-input-container>
            <md-divider ng-if="!$last"></md-divider>
        </div>
    </div>
    <!-- End Edit -->
</form>